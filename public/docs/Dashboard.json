{"files":[{"content":"import React, { lazy, Suspense } from 'react';\nimport { Box, Heading, Paragraph } from 'grommet';\nimport useDashboard from './useDashboard';\n\nfunction DashboardWidget({ type, ...props }) {\n  const Component = lazy(() => import(`./widgets/${type}Widget`));\n  const fallback = <Paragraph>Loadingâ€¦</Paragraph>;\n\n  return (\n    <Suspense fallback={fallback}>\n      <Box flex>\n        <Component {...props} />\n      </Box>\n    </Suspense>\n  );\n}\n\nfunction DashboardSection({ id, title, widgets }) {\n  return (\n    <Box flex={false} gap=\"medium\">\n      {title && (\n        <Heading level={3} margin=\"none\">\n          {title}\n        </Heading>\n      )}\n      <Box direction=\"row\" gap=\"medium\" justify=\"stretch\">\n        {widgets?.map((widget) => {\n          return <DashboardWidget key={widget?.id} {...widget} />;\n        })}\n      </Box>\n    </Box>\n  );\n}\nexport default function Dashboard() {\n  const { widgetsBySection, sections } = useDashboard();\n  return (\n    <Box className=\"Dashboard\" pad=\"medium\" gap=\"large\">\n      {sections.map((section) => {\n        return (\n          <DashboardSection\n            key={section?.id}\n            {...section}\n            widgets={widgetsBySection[section?.id]}\n          />\n        );\n      })}\n    </Box>\n  );\n}\n","filename":"Dashboard.js","app":"Dashboard"},{"content":"export { default } from './Dashboard'\n","filename":"index.js","app":"Dashboard"},{"content":"import { useMemo, useState } from 'react';\nimport { groupBy } from 'lodash';\nimport * as config from './config';\n\nexport default function useDashboard() {\n  const [widgets] = useState(config?.widgets);\n  const [sections] = useState(config?.sections);\n  const widgetsBySection = useMemo(() => {\n    return groupBy(widgets, 'section');\n  }, [widgets]);\n  const dashboard = useMemo(() => {\n    return { widgets, sections, widgetsBySection };\n  }, [widgets, sections, widgetsBySection]);\n\n  return dashboard;\n}\n","filename":"useDashboard.js","app":"Dashboard"}]}
